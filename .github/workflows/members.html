<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>會員專區</title>
    <link rel="stylesheet" href="members.css">
</head>
<body>
    <header>
        <div class="index">
        <a class="logo" href="index.html">Q比音樂教育機構<a>
        <nav>
          <ul>
              <li><a href="news.html" target="_blank">最新消息</a></li>
              <li><a href="story.html" target="_blank">品牌故事</a></li>
              <li><a href="instruments.html" target="_blank">教授樂器</a></li>
              <li><a href="members.html" target="_blank">會員專區</a></li>                
          </ul>
        </nav> 
        </div> 
        <div class="title">
          <h1>會員專區</h1>
        </div> 
    </header>

    <main>
        <div class="login">
            <h1>LOGIN</h1>
            <form action="">
                <input type="text" placeholder="帳號">
                <input type="text" placeholder="密碼">
                <button>登入</button>
            </form>
        </div>
        <script>
            window.onload = function () {
        //獲取login
        let login = document.querySelector('.login')  
        let span
        let inTime, outTime
        let isIn = true //默認打開
        let isOut    
        //滑鼠進入
        login.addEventListener('mouseenter', function (e) {
            isOut = false//預先關閉，如果沒有進入if，就不會到滑鼠離開的if
            if (isIn) {
                inTime = new Date().getTime()
    
                //生成span元素加進login的末尾
                span = document.createElement('span')
                login.appendChild(span)
    
                //span去使用in動畫
                span.style.animation = 'in .5s ease-out forwards'
    
                //計算 top 和 left 值，追蹤滑鼠位置
                let top = e.clientY - e.target.offsetTop
                let left = e.clientX - e.target.offsetLeft
    
                span.style.top = top + 'px'
                span.style.left = left + 'px'
    
                isIn = false
                isOut = true
    
            }
        })
 
        //滑鼠離開
        login.addEventListener('mouseleave', function (e) {
            if (isOut) {
                outTime = new Date().getTime()
                let passTime = outTime - inTime
    
                if (passTime < 500) {
                    setTimeout(mouseleave, 500 - passTime) //以經過的時間就不要
                }
                else {
                    mouseleave()
                }
            }
    
            function mouseleave() {
                span.style.animation = 'out .5s ease-out forwards'
    
                //計算 top 和 left 值，追蹤滑鼠位置
                let top = e.clientY - e.target.offsetTop
                let left = e.clientX - e.target.offsetLeft
    
                span.style.top = top + 'px'
                span.style.left = left + 'px'
    
                //定時器
                setTimeout(function () {
                    login.removeChild(span)
                    isIn = true //執行完滑鼠離開才打開
                }, 500)
            }
            })
        }
        </script>
    </main>

    <footer>
        <p>Copyright © 2024 Q比音樂教育機構 All Rights Reserved.</p>
    </footer>
</body>
</html>